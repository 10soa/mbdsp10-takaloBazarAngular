<main class="contenu">
    <!-- profile area start -->
    <div *ngIf="loadingMain; else section">
      <section class="profile__area pt-120 pb-50 grey-bg">
        <div class="container">
          <div class="profile__basic-inner pb-20 bg-white">
            <div class="row align-items-center">
              <div class="col-xxl-6 col-md-6">
                <div class="profile__basic d-md-flex align-items-center">
                  <div class="profile__basic-content">
                    <h3 class="profile__basic-title">
                      Chargement des informations ... <span class="spinner-border spinner-border-sm"
                        role="status" aria-hidden="true"></span>
                    </h3>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
    <ng-template #section>
  
      <!-- profile menu area start -->
      <section class="profile__menu pb-30 pt-30 grey-bg">
        <div class="container">
          <div class="row">
            <div class="col-xxl-12">
              <div class="profile__menu-right">

  
                <div class="tab-pane">
                  <div class="order__info">
                    <div class="order__info-top d-flex justify-content-between align-items-center">
                      <h3 class="order__info-title">Liste des objets</h3>
                    </div>
                    <div *ngIf="!loading && userObjects.length === 0" class="cartmini__empty text-center mt-80">
                      <img src="/assets/img/shop/empty-cart.png" alt="empty-cart-img" />
                      <h4>Oh! Aucun résultat!!!</h4>
                      <p>Veuillez vérifier les filtres que vous avez renseignés</p>
                      <a (click)="close()" class="os-btn os-btn-3">Fermer</a>
                    </div>
  
                    <div *ngIf="!loading && userObjects.length > 0" class="tab-content order__info-top" id="pills-tabContent">
  
                      <div class="shop__header d-sm-flex justify-content-between align-items-center mb-40">
                        <div class="shop__header-left">
                          <div class="show-text password__input" style="margin: 0;">
                            <input type="text" [(ngModel)]="name" (input)="onSearchChange()"
                              placeholder="Rechercher..." style="height: 50px;"/>
                          </div>
                        </div>
                        <div
                          class="shop__header-right d-flex align-items-center justify-content-between justify-content-sm-end">
                          <div class="sort-wrapper mr-30 pr-25 p-relative">
                            <select [(ngModel)]="order_direction" (ngModelChange)="onSortingChange($event)">
                              <option value="asc">Le plus récent</option>
                              <option value="desc">Le plus ancien</option>
                            </select>
                          </div>
                        </div>
                      </div>
  
                      <div class="tab-pane fade show active" id="pills-grid" role="tabpanel"
                        aria-labelledby="pills-grid-tab">
                        <div class="row custom-row-10">
                          <div *ngFor="let object of userObjects" class="col-xl-3 col-lg-3 col-md-6 col-sm-6 custom-col-10">
                            <div class="product__wrapper mb-60">
                                <div class="product__thumb">
                                  <a [routerLink]="['/object', object.id]" class="w-img">
                                    <img [src]="object.image" alt="product-img">
                                    <img class="product__thumb-2" [src]="object.image" alt="product-img">
                                  </a>
                                  <div class="product__action transition-3">
                                    <a class="cursor-pointer" data-bs-toggle="modal">
                                      <i class="fal fa-search"></i>
                                    </a>
                                  </div>
                                </div>
                                <div class="product__content p-relative">
                                  <div class="product__content-inner">
                                    <h4><a [routerLink]="['/object', object.id]" [innerHTML]="object.name"></a></h4>
                                    <div class="product__price transition-3">
                                      <span>{{object.category?.name}}</span>
                                      <span class="" style="color:#a3a3a3;">{{object.user?.username}}</span>
                                    </div>
                                  </div>
                                  <div class="add-cart p-absolute transition-3">
                                    <a (click)="add(object)" class="cursor-pointer">
                                     Ajouter
                                    </a>
                                  </div>
                                </div>
                              </div>
                              
                          </div>
                        </div>
                      </div>
                      <div class="row mt-40">
                        <div class="col-xl-12">
                          <div class="shop-pagination-wrapper d-md-flex justify-content-between align-items-center">
                            <app-pagination [data]="userObjects" [paginate]="paginate" (setPage)="setPage($event)">
                            </app-pagination>
                          </div>
                        </div>
                      </div>
                      <a (click)="close()" class="os-btn os-btn-3" style="margin-top: 20px;">Fermer</a>
                    </div>
                  </div>
                </div>
  
              </div>
            </div>
          </div>
        </div>
      </section>
    </ng-template>
  
  
    <!-- profile menu area end -->
  
  </main>
